<!DOCTYPE html>
<html>
    <head>
        <title>Rock-Paper-Scissors Game</title>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel = "stylesheet" href = "style.css">
    </head>
    <body>
        <div class = "header">
            <h1>Rock, Paper, Scissors</h1>
            <p>Just select an option and press play!</p> 
        </div>
        
        <div class = "buttonSpace">
            <button onclick = "checkRock()" id = "rock" class = "buttons">Rock</button>
            <button onclick = "checkPaper()" id = "paper" class = "buttons">Paper</button>
            <button onclick = "checkScissor()" id = "scissor" class = "buttons">Scissor</button>
            <button onclick = "game()" id = "submit" class = "buttons">Play</button>
        </div>

        <div id = "result"></div>

    </body>

        <script>
            let submit = false, rock = false, paper = false, scissor = false;
            function computerPlay(){
                let random = parseInt(Math.random()*3);
                if(random == 0)
                    return "rock";
                else if(random == 1)
                    return "paper";
                else
                    return "scissor";
            }
            function checkRock(){
                //updating the values
                rock = true;
                scissor = false;
                paper = false;

                //updating the styling
                document.getElementById("rock").style.backgroundColor = "#86C5D8";
                document.getElementById("paper").style.backgroundColor = "";
                document.getElementById("scissor").style.backgroundColor = "";
                
            }
            function checkPaper(){
                rock = false;
                scissor = false;
                paper = true;

                //updating the styling
                document.getElementById("rock").style.backgroundColor = "";
                document.getElementById("paper").style.backgroundColor = "#86C5D8";
                document.getElementById("scissor").style.backgroundColor = "";
            }
            function checkScissor(){
                rock = false;
                scissor = true;
                paper = false;

                //updating the styling
                document.getElementById("rock").style.backgroundColor = "";
                document.getElementById("paper").style.backgroundColor = "";
                document.getElementById("scissor").style.backgroundColor = "#86C5D8";
            }
            function roundPlay(playerSelection, computerSelection){
                playerSelection = playerSelection.toLowerCase();
                let win = false;
                if(playerSelection === computerSelection)
                    return "Tie! " + playerSelection + " ties " + computerSelection+".";
                else if(playerSelection === "rock" && computerSelection === "scissor"
                || playerSelection === "paper" && computerSelection === "rock"
                || playerSelection === "scissor" && computerSelection === "paper")
                    win = true;
                
                if(win)
                    return "You won! " + playerSelection + " beats " + computerSelection;
                return "You lose :( " + computerSelection + " beats " + playerSelection;   
            }

            function valid(){
                let count = 0;
                if(rock == true)
                    count++;
                else if(paper == true)
                    count++;
                else if(scissor == true)
                    count++;
                
                if(count == 1)
                    return true;
                return false;
            }
            function game(){
                if(valid()){
                    //removing previous result, if any
                    let remove = document.getElementById("theResult");
                    if(remove != null)
                        remove.remove();

                    //computer and users play
                    let computer = computerPlay();
                    let player = 'rock';
                    if(paper == true)
                        player = 'paper';
                    else if(scissor == true){
                        player = 'scissor';
                    } 
                    
                    //adding element
                    let tag = document.createElement("p");
                    tag.setAttribute("id", "theResult");
                    let text = document.createTextNode(roundPlay(player, computer));
                    tag.appendChild(text);
                    document.getElementById("result").appendChild(tag);

                    //updating the styling
                    document.getElementById("rock").style.backgroundColor = "";
                    document.getElementById("paper").style.backgroundColor = "";
                    document.getElementById("scissor").style.backgroundColor = "";

                    //updating the elements
                    rock = false;
                    paper = false;
                    scissor = false;
                }
            }
        </script>
</html>