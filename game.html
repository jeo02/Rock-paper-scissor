<!DOCTYPE html>
<html>
    <head>
        <title>Rock-Paper-Scissors Game</title>
    </head>
    <body>
        <button onclick = "checkRock()" id = "rock">Rock</button>
        <button onclick = "checkPaper()" id = "paper">Paper</button>
        <button onclick = "checkScissor()" id = "scissor">Scissor</button>
        <button onclick = "game()" id = "submit">Submit</button>
        <div id = "result"></div>

    </body>

        <script>
            let submit = false, rock = false, paper = false, scissor = false;
            function computerPlay(){
                let random = parseInt(Math.random()*3);
                if(random == 0)
                    return "Rock";
                else if(random == 1)
                    return "Paper";
                else
                    return "Scissors";
            }
            function checkRock(){
                rock = true;
                scissor = false;
                paper = false;
            }
            function checkPaper(){
                rock = false;
                scissor = false;
                paper = true;
            }
            function checkScissor(){
                rock = false;
                scissor = true;
                paper = false;
            }
            function roundPlay(playerSelection, computerSelection){
                playerSelection = playerSelection.toLowerCase();
                computerSelection = computerSelection.toLowerCase();
                let win = false;
                if(playerSelection === computerSelection)
                    return "Tie! " + playerSelection + " ties " + computerSelection+".";
                else if(playerSelection === "rock" && computerSelection === "scissor"
                || playerSelection === "paper" && computerSelection === "rock"
                || playerSelection === "scissor" && computerSelection === "paper")
                    win = true;
                
                if(win)
                    return "You won! " + playerSelection + " beats " + computerSelection;
                return "You lose :( " + computerSelection + " beats " + playerSelection;   
            }

            function valid(){
                let count = 0;
                if(rock == true)
                    count++;
                else if(paper == true)
                    count++;
                else if(scissor == true)
                    count++;
                
                if(count == 1)
                    return true;
                return false;
            }
            function game(){
                if(valid()){
                    let computer = computerPlay();
                    let tag = document.createElement("p");
                    let player = 'rock';
                    if(paper == true)
                        player = 'paper';
                    else if(scissor == true)
                        player = 'scissor';
                    let text = document.createTextNode(roundPlay(player, computer));
                    tag.appendChild(text);
                    document.getElementById("result").appendChild(tag);
                }
            }
        </script>
</html>